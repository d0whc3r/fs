/*[global-shim-start]*/
!function(e,n,r){var o=n.define,t=function(e){var r,o=e.split("."),t=n;for(r=0;r<o.length&&t;r++)t=t[o[r]];return t},i=function(e,r){var o,t,i,l=e.split("."),u=n;for(o=0;o<l.length-1;o++)t=l[o],i=u[t],i||(i=u[t]={}),u=i;t=l[l.length-1],u[t]=r},l=function(e){if(!e||!e.__esModule)return!1;var n={__esModule:!0,"default":!0};for(var r in e)if(!n[r])return!1;return!0},u=n.define&&n.define.modules||n._define&&n._define.modules||{},f=n.define=function(r,d,a){var _;"function"==typeof d&&(a=d,d=[]);var s,c=[];for(s=0;s<d.length;s++)c.push(e[d[s]]?t(e[d[s]]):u[d[s]]||t(d[s]));if(!d.length&&a.length){_={exports:{}};var p=function(n){return e[n]?t(e[n]):u[n]};c.push(p,_.exports,_)}else c[0]||"exports"!==d[0]?c[0]||"module"!==d[0]||(c[0]={id:r}):(_={exports:{}},c[0]=_.exports,"module"===d[1]&&(c[1]=_));n.define=o;var v=a?a.apply(null,c):void 0;n.define=f,v=_&&_.exports?_.exports:v,u[r]=v;var g=e[r];g&&!t(g)&&(l(v)&&(v=v["default"]),i(g,v))};n.define.orig=o,n.define.modules=u,n.define.amd=!0,f("@loader",[],function(){var e=function(){};return{get:function(){return{prepareGlobal:e,retrieveGlobal:e}},global:n,__exec:function(e){r(e.source,n)}}})}({},window,function(__$source__,__$global__){eval("(function() { "+__$source__+" \n }).call(__$global__);")});
/*path@1.0.0#index*/
define("path/index",function(n,e,i){e.basename=function(n){return n.split("/").pop()},e.dirname=function(n){return n.split("/").slice(0,-1).join("/")||"."},e.extname=function(n){var i=e.basename(n);if(!~i.indexOf("."))return"";var t=i.split(".").pop();return"."+t}});
/*fs-web@1.0.1#directory_entry*/
define("fs-web/directory_entry",["exports","path/index"],function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){this.path=e,this.name=n["default"].basename(e),this.dir=n["default"].dirname(e),this.type=t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=i(t);e["default"]=d});
/*fs-web@1.0.1#core*/
define("fs-web/core",["exports","path/index","fs-web/directory_entry"],function(n,e,r){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}function o(n){return String.fromCharCode.apply(null,new Uint16Array(n))}function i(n){for(var e=new ArrayBuffer(2*n.length),r=new Uint16Array(e),t=0,o=n.length;o>t;t++)r[t]=n.charCodeAt(t);return e}function u(n){var e=window.indexedDB.open(g,1);e.onupgradeneeded=function(n){var e=n.target.result,r=e.createObjectStore(m,{keyPath:"path"});r.createIndex(P,"dir",{unique:!1})},e.onsuccess=function(e){n(e.target.result)}}function a(n,e){u(function(r){var t=r.transaction([m],n),o=t.objectStore(m);e(o)})}function c(n){return A(n).then(function(n){return n instanceof ArrayBuffer||(n=i(n.toString())),n})}function f(n){return A(n).then(function(n){return n instanceof ArrayBuffer&&(n=o(n)),n})}function d(n,e){return new Promise(function(r,t){a("readwrite",function(o){var i=o.put({path:n,dir:v["default"].dirname(n),type:"file",data:e});i.onerror=t,i.onsuccess=function(n){r()}})})}function s(n){return new Promise(function(e){a("readwrite",function(r){var t=r["delete"](n);t.onerror=t.onsuccess=function(n){e()}})})}function l(n){var e="/"===n[n.length-1]?n:n+"/";return e}function y(n){return new Promise(function(e,r){a("readonly",function(t){var o=v["default"].dirname(l(n)),i=t.index(P),u=IDBKeyRange.only(o),a=i.openCursor(u);a.onerror=function(n){r(n)};var c=[];a.onsuccess=function(n){var r=n.target.result;if(r){var t=r.value,o=new w["default"](t.path,t.type);c.push(o),r["continue"]()}else e(c)}})})}function h(n){return new Promise(function(e,r){a("readwrite",function(t){var o=l(v["default"]),i=t.put({path:n,dir:v["default"].dirname(o),type:"directory"});i.onerror=r,i.onsuccess=function(n){e()}})})}function p(n){return y(n).then(function e(r){if(!r||!r.length)return s(n);var t=r.shift(),o="directory"===t.type?p:s;return o(t.name).then(function(){return e(r)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.readFile=c,n.readString=f,n.writeFile=d,n.removeFile=s,n.readdir=y,n.mkdir=h,n.rmdir=p;var v=t(e),w=t(r),g=window.location.host+"_filesystem",m="files",P="dir",A=function(n){return new Promise(function(e,r){a("readonly",function(t){var o=t.get(n);o.onerror=r,o.onsuccess=function(n){var t=n.target.result;t&&t.data?e(t.data):r("File not found")}})})}});
/*fs-web@1.0.1#fs*/
define("fs-web/fs",["exports","fs-web/core","fs-web/directory_entry"],function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.DirectoryEntry=void 0,Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})});var n=o(r);n["default"].prototype.readFile=function(e){if("file"!==this.type)throw new TypeError("Not a file.");return t.readFile(this.path,e)},e.DirectoryEntry=n["default"]});
/*fs-web@1.0.1#global*/
define("fs-web/global",["fs-web/fs"],function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(r[f]=e[f]);return r["default"]=e,r}var f=r(e);window.fsWeb=f});
/*[global-shim-end]*/
!function(){window._define=window.define,window.define=window.define.orig}();